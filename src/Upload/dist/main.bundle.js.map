{"version":3,"sources":["webpack:///./src/app/app.component.html","webpack:///vertx (ignored)","webpack:///./src/app/auth.service.ts","webpack:///./src/app/photo.service.ts","webpack:///./src/app/recognizer.service.ts","webpack:///./src/app/user.service.ts","webpack:///./src async","webpack:///./src/main.ts","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/environments/environment.ts"],"names":[],"mappings":"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","file":"main.bundle.js","sourcesContent":["module.exports = \"<div class=\\\"container-fluid\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-2\\\">\\r\\n            <img src=\\\"/Styles/images/novanet-logo.svg\\\" />\\r\\n        </div>\\r\\n        <div class=\\\"float-right\\\">\\r\\n            <div (click)=\\\"reset()\\\">\\r\\n                <span class=\\\"glyphicon glyphicon-refresh\\\" aria-hidden=\\\"true\\\"></span>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div *ngIf=\\\"!authIsSet\\\" class=\\\"row\\\">\\r\\n    <div class=\\\"col-xs-4 col-xs-offset-4\\\">\\r\\n        <input type=\\\"password\\\" [(ngModel)]=\\\"authKey\\\" />\\r\\n        <button type=\\\"button\\\" class=\\\"button\\\" (click)=\\\"storeAuth()\\\" [disabled]=\\\"!authKey\\\">\\r\\n        <span *ngIf=\\\"!authKey\\\">Provide authKey</span>\\r\\n        <span *ngIf=\\\"authKey\\\">Save</span>\\r\\n        </button>\\r\\n    </div>\\r\\n    <div class=\\\"col-xs-4 col-xs-offset-4 auth-error\\\" *ngIf=\\\"authError\\\">\\r\\n        Incorrect\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n<div class=\\\"container-fluid\\\" *ngIf=\\\"authIsSet\\\">\\r\\n    <div class=\\\"row\\\">\\r\\n        <div class=\\\"col-xs-8 col-xs-offset-2\\\">\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-9 col-xs-offset-1 booth\\\" [class.booth-user-icon]=\\\"!fileSelected\\\" [style.background-image]=\\\"imageSrc\\\">\\r\\n                    <div class=\\\"booth-overlay\\\" *ngIf=\\\"isRunningRecognition || isSubmitting || isSubmitted\\\"></div>\\r\\n                    <div class=\\\"booth-overlay--text\\\" *ngIf=\\\"isRunningRecognition\\\">Processing image...</div>\\r\\n                    <div class=\\\"booth-overlay--text\\\" *ngIf=\\\"isSubmitting\\\">Submitting..</div>\\r\\n                    <div class=\\\"booth-overlay--text submitted\\\" *ngIf=\\\"isSubmitted\\\">\\r\\n                        <span class=\\\"glyphicon glyphicon-thumbs-up\\\"></span> Submitted! <span class=\\\"glyphicon glyphicon-thumbs-up\\\"></span>\\r\\n                        <button type=\\\"button\\\" class=\\\"button button--capture\\\" (click)=\\\"captureImage()\\\">Take another one</button>\\r\\n                        <button type=\\\"button\\\" class=\\\"button button--capture\\\" (click)=\\\"reset()\\\">Reset form</button>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n            <div class=\\\"row\\\">\\r\\n                <div class=\\\"col-xs-9 col-xs-offset-1 capture\\\">\\r\\n                    <button type=\\\"button\\\" class=\\\"button button--capture\\\" (click)=\\\"captureImage()\\\" [disabled]=\\\"isSubmitted\\\">Take a photo</button>\\r\\n                    <input type=\\\"file\\\" #inputFile accept=\\\"image/*\\\" capture=\\\"camera\\\" />\\r\\n\\r\\n                    <!--<div *ngIf=\\\"isRunningRecognition\\\">\\r\\n                        Processing image..\\r\\n                    </div>-->\\r\\n                </div>\\r\\n            </div>\\r\\n            <!--<div *ngIf=\\\"!isSubmitted\\\" class=\\\"col-xs-12\\\">-->\\r\\n                <div class=\\\"col-xs-12\\\">\\r\\n\\r\\n                <div *ngIf=\\\"fileSelected && !isRunningRecognition && user && user.isExisting && !confirmItsMe\\\">\\r\\n                    <h3>Is this you?</h3>\\r\\n                    <p>Name: {{user.name}}</p>\\r\\n                    <p>Email: {{user.email}}</p>\\r\\n                    <button class=\\\"button half\\\" (click)=\\\"itsMe()\\\">Yes</button>\\r\\n                    <button class=\\\"button half\\\" (click)=\\\"notMe()\\\">No</button>\\r\\n                </div>\\r\\n\\r\\n                <div *ngIf=\\\"fileSelected && user && user.isExisting && confirmItsMe\\\" class=\\\"input-group\\\">\\r\\n                    <button type=\\\"button\\\" (click)=\\\"submit()\\\" class=\\\"button\\\" [disabled]=\\\"!fileSelected || !name\\\">Submit</button>\\r\\n                </div>\\r\\n\\r\\n                <p class=\\\"error\\\" *ngIf=\\\"error\\\">{{errorMessage}}</p>\\r\\n                <!--<div *ngIf=\\\"fileSelected user && !user.isExisting\\\" class=\\\"input-group\\\">-->\\r\\n                    <div class=\\\"input-group\\\">\\r\\n                    <label>Name: <input type=\\\"text\\\" [(ngModel)]=\\\"name\\\" class=\\\"form-control\\\" /></label>\\r\\n                    <label>Email: <input type=\\\"email\\\" [(ngModel)]=\\\"email\\\" class=\\\"form-control\\\" /></label>\\r\\n                    <label>Company: <input type=\\\"text\\\" [(ngModel)]=\\\"company\\\" class=\\\"form-control\\\" /></label>\\r\\n                    <label>Twitter handle: <input type=\\\"text\\\" [(ngModel)]=\\\"twitterHandle\\\" class=\\\"form-control\\\" /></label>\\r\\n                    <button type=\\\"button\\\" *ngIf=\\\"!isSubmitting\\\" (click)=\\\"submit()\\\" class=\\\"button\\\" [disabled]=\\\"!fileSelected || !name || !email || isSubmitted\\\">Submit</button>\\r\\n                    <div class=\\\"button submit-text\\\" *ngIf=\\\"isSubmitting\\\">Submitting...</div>\\r\\n                </div>\\r\\n            </div>\\r\\n\\r\\n\\r\\n\\r\\n            <!--<div *ngIf=\\\"isSubmitted\\\" class=\\\"col-xs-12 submit-message\\\">\\r\\n                <h3>Thanks for contributing!</h3>\\r\\n                <p><small>Welcome back.</small></p>\\r\\n            </div>\\r\\n            <div class=\\\"col-xs-12 error\\\" *ngIf=\\\"error\\\">\\r\\n                Oops, something went wrong.\\r\\n            </div>-->\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/app/app.component.html\n// module id = 137\n// module chunks = 1","/* (ignored) */\n\n\n//////////////////\n// WEBPACK FOOTER\n// vertx (ignored)\n// module id = 162\n// module chunks = 1","import { Http, Response } from '@angular/http';\r\nimport { Headers, RequestOptions } from '@angular/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Promise } from 'es6-promise';\r\nimport 'rxjs/add/operator/toPromise';\r\n\r\n@Injectable()\r\nexport class AuthService {\r\n    private http: Http;\r\n\r\n    constructor(http: Http) {\r\n        this.http = http;\r\n    }\r\n\r\n    public checkAuth(authKey: string): Promise<boolean> {\r\n        let headers = new Headers({ 'Authorization': authKey, 'Content-Type': 'application/json' });\r\n\r\n        let options = {\r\n            headers: headers\r\n        }\r\n\r\n        return this.http.get('/api/login', options)\r\n            .toPromise()\r\n            .then(response => Promise.resolve(true))\r\n            .catch(response => Promise.resolve(false));\r\n\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/auth.service.ts","import { Http, Response } from '@angular/http';\r\nimport { Headers, RequestOptions } from '@angular/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Promise } from 'es6-promise';\r\nimport 'rxjs/add/operator/toPromise';\r\n\r\n@Injectable()\r\nexport class PhotoService {\r\n\r\n    private http: Http;\r\n    constructor(http: Http) {\r\n        this.http = http;\r\n    }\r\n\r\n    public publishImage(userId: number, file: File): Promise<any> {\r\n        let headers = new Headers({ 'Authorization': sessionStorage['authKey']});\r\n\r\n        let options = {\r\n            headers: headers\r\n        }\r\n\r\n        let data = new FormData();\r\n        data.append('file', file);\r\n\r\n        return this.http.post(`/api/photo/${userId}`, data, options).toPromise().then((response: any) => {\r\n            return Promise.resolve(response.json());\r\n        }).catch(response => {\r\n            return Promise.reject(response.text());\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/photo.service.ts","import { Http, Response } from '@angular/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Promise } from 'es6-promise';\r\nimport 'rxjs/add/operator/toPromise';\r\n\r\n@Injectable()\r\nexport class RecognizerService {\r\n\r\n    private http: Http;    \r\n    constructor(http: Http) { \r\n        this.http = http;\r\n    }\r\n\r\n    public processFile(file: File): Promise<any> {\r\n        let form = new FormData();\r\n        form.append('file', file);\r\n        return this.http.post('/api/recognizer/image', form)\r\n            .toPromise()\r\n            .then((response: any) => {\r\n                return Promise.resolve(response.json());\r\n            }, (response: any) => {\r\n                console.log(\"result is \" + response);\r\n                if (response.status === 404)\r\n                    return Promise.resolve(response.json());\r\n            });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/recognizer.service.ts","import { Http, Response } from '@angular/http';\r\nimport { Headers, RequestOptions } from '@angular/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { Promise } from 'es6-promise';\r\nimport 'rxjs/add/operator/toPromise';\r\n\r\n@Injectable()\r\nexport class UserService {\r\n\r\n    private http: Http;\r\n    constructor(http: Http) {\r\n        this.http = http;\r\n    }\r\n\r\n    public createUser(name: string, email: string, company: string, twitterHandle: string): Promise<any> {\r\n        let headers = new Headers({ 'Authorization': sessionStorage['authKey'], 'Content-Type': 'application/json' });\r\n        let data = {\r\n            'name': name,\r\n            'email': email,\r\n            'company': company,\r\n            'twitterHandle': twitterHandle\r\n        }\r\n        let options = {\r\n            headers: headers  \r\n        }\r\n\r\n        return this.http.post('/api/user',data, options).toPromise().then((response:any) => {\r\n            return Promise.resolve(response.json());\r\n        }).catch(response => {\r\n            return Promise.reject(response.text());\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./src/app/user.service.ts","function webpackEmptyContext(req) {\n\tthrow new Error(\"Cannot find module '\" + req + \"'.\");\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 76;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src async\n// module id = 76\n// module chunks = 1","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.ts","import { AuthService } from './auth.service';\r\nimport { IUser } from './Models/IUser';\r\nimport { RecognizerService } from './recognizer.service';\r\nimport { UserService } from './user.service';\r\nimport { PhotoService } from './photo.service';\r\nimport { SafeUrl } from '@angular/platform-browser/public_api';\r\nimport { Component, ViewChild } from '@angular/core';\r\nimport { DomSanitizer } from '@angular/platform-browser';\r\n\r\n@Component({\r\n    selector: 'app-root',\r\n    templateUrl: './app.component.html'\r\n})\r\nexport class AppComponent {\r\n    @ViewChild(\"inputFile\") public set inputFile(content: any) {\r\n        if (content) {\r\n            this.inputFileElement = content.nativeElement;\r\n            this.inputFileElement.addEventListener('change', this.handleFile);\r\n        }\r\n    }\r\n\r\n    public isSubmitting: boolean;\r\n    public isSubmitted: boolean;\r\n    public fileSelected: boolean;\r\n    public isRunningRecognition: boolean;\r\n    public imageSrc: any;\r\n    public user: IUser;\r\n    public confirmItsMe: boolean;\r\n    public error: boolean;\r\n    public errorMessage: string;\r\n    public authError: boolean;\r\n\r\n    public name: string;\r\n    public email: string;\r\n    public company: string;\r\n    public twitterHandle: string;\r\n    public authKey: string;\r\n    public authIsSet: boolean;\r\n    private inputFileElement: HTMLInputElement;\r\n    private file: File;\r\n\r\n    private sanitizer: DomSanitizer;\r\n    private recognizerService: RecognizerService;\r\n    private userService: UserService;\r\n    private photoService: PhotoService;\r\n    private authService: AuthService;\r\n\r\n    constructor(sanitizer: DomSanitizer, recognizerService: RecognizerService, userService: UserService, photoService: PhotoService, authService: AuthService) {\r\n        this.sanitizer = sanitizer;\r\n        this.recognizerService = recognizerService;\r\n        this.userService = userService;\r\n        this.photoService = photoService;\r\n        this.authService = authService;\r\n    }\r\n\r\n    public ngOnInit() {\r\n        this.authIsSet = sessionStorage.getItem('authKey') !== null;\r\n    }\r\n\r\n    public storeAuth() {\r\n        this.authService.checkAuth(this.authKey)\r\n            .then((response) => {\r\n                if (response) {\r\n                    sessionStorage.setItem('authKey', this.authKey);\r\n                    this.authError = false;\r\n                    this.authIsSet = true;\r\n                    this.authKey = null;\r\n                }\r\n                else {\r\n                    this.authIsSet = false;\r\n                    this.authError = true;\r\n                }\r\n            });\r\n    }\r\n\r\n    public submit = () => {\r\n        this.error = false;\r\n        this.errorMessage = null;\r\n        this.isSubmitting = true;\r\n        this.userService.createUser(this.name, this.email, this.company, this.twitterHandle)\r\n            .then((userId) => {\r\n                this.postImage(userId);\r\n            }, (error) => {\r\n                this.isSubmitting = false;\r\n                this.error = true;\r\n                this.errorMessage = this.getErrorMessage(error);\r\n            });\r\n    }\r\n\r\n    private getErrorMessage(error: string) {\r\n        switch (error) {\r\n            case 'NameOrEmailMismatch':\r\n                return 'Incorrect email or name - use the same values as last upload';\r\n            case 'MissingFields':\r\n                return 'Name and Email are mandatory';\r\n            default:\r\n                return 'Something went wrong - please try again';\r\n        }\r\n    }\r\n\r\n    public postImage = (userId: number) => {\r\n        this.photoService.publishImage(userId, this.file)\r\n            .then((response) => {\r\n                this.setupSubmitMessage();\r\n            }, (error) => {\r\n                this.isSubmitting = false;\r\n                this.error = true;\r\n                this.errorMessage = this.getErrorMessage(error);\r\n            });\r\n    }\r\n\r\n\r\n    private setupSubmitMessage() {\r\n        this.isSubmitted = true;\r\n        this.isSubmitting = false;\r\n    }\r\n\r\n    public reset() {\r\n        this.isSubmitting = false;\r\n        this.isSubmitted = false;\r\n        this.file = null;\r\n        this.name = null;\r\n        this.email = null;\r\n        this.company = null;\r\n        this.twitterHandle = null;\r\n        this.confirmItsMe = false;\r\n        this.inputFileElement.value = null;\r\n        this.fileSelected = false;\r\n        this.user = null;\r\n        this.imageSrc = null;\r\n        this.error = false;\r\n        this.errorMessage = null;\r\n    }\r\n\r\n    public takeAnother() {\r\n        this.isSubmitted = false;\r\n        this.captureImage();\r\n    }\r\n\r\n    public captureImage() {\r\n        this.isSubmitted = false;\r\n        this.inputFileElement.value = null;\r\n        this.fileSelected = false;\r\n        this.imageSrc = null;\r\n        this.error = false;\r\n        this.errorMessage = null;\r\n        \r\n        setTimeout(() => {\r\n            this.inputFileElement.click();\r\n        });\r\n    }\r\n\r\n    public notMe() {\r\n        this.user.isExisting = false;\r\n    }\r\n\r\n    public itsMe() {\r\n        this.confirmItsMe = true;\r\n    }\r\n\r\n    private handleFile = (ev: Event) => {\r\n        if (this.inputFileElement.files.length === 0)\r\n            return;\r\n\r\n        this.file = this.inputFileElement.files[0];\r\n        this.fileSelected = true;\r\n        this.processFileOnServer(this.file)\r\n    }\r\n\r\n    private processFileOnServer = (file: File) => {\r\n        this.isRunningRecognition = true;\r\n        this.recognizerService.processFile(file)\r\n            .then((result: IUser) => {\r\n                this.user = result;\r\n                this.imageSrc = this.sanitizer.bypassSecurityTrustStyle(`url(data:image/jpg;base64,${result.base64Image})`);\r\n                this.isRunningRecognition = false;\r\n            }).catch(() => {\r\n                this.isRunningRecognition = false;\r\n            });\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.component.ts","import { AuthService } from './auth.service';\r\nimport { RecognizerService } from './recognizer.service';\r\nimport { UserService } from './user.service';\r\nimport { PhotoService } from './photo.service';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { NgModule } from '@angular/core';\r\nimport { FormsModule } from '@angular/forms';\r\nimport { HttpModule } from '@angular/http';\r\nimport { AppComponent } from './app.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    FormsModule,\r\n    HttpModule\r\n  ],\r\n  providers: [\r\n    RecognizerService,\r\n    UserService,\r\n    PhotoService,\r\n    AuthService\r\n  ],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/app/app.module.ts","// The file contents for the current environment will overwrite these during build.\r\n// The build system defaults to the dev environment which uses `environment.ts`, but if you do\r\n// `ng build --env=prod` then `environment.prod.ts` will be used instead.\r\n// The list of which env maps to which file can be found in `.angular-cli.json`.\r\n\r\nexport const environment = {\r\n  production: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/environments/environment.ts"],"sourceRoot":""}